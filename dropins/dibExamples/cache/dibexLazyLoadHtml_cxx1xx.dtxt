(function() {var require = [ ];require.push('/dropins/setNgMaterial/dibGlobals/js/component/selectDefault.js');var files = [];angular.forEach(require, function (file,index) {files.push(DIB.base_url+'/files'+file);});var dibexLazyLoadHtml = angular.module('dibexLazyLoadHtml', [files]);dibexLazyLoadHtml.factory('dibexLazyLoadHtmlStore',['dibDiscover', function (dibDiscover) {var url = function ($scope, $element) {return dibDiscover.addToUrl({field : $element.find('[dib-container=dibexLazyLoadHtml]').first(),$scope : $scope,url : DIB.base_url+"/dropins/setNgMaterial/dibHtmlTemplate/Template/open/dibexLazyLoadHtml"});};return {url : url};}]);dibexLazyLoadHtml.factory('dibexLazyLoadHtmlDefinition',dibexLazyLoadHtmlDefinition);dibexLazyLoadHtmlDefinition.$inject = ['dibContainer'];function dibexLazyLoadHtmlDefinition(dibContainer) {return {model : model,view : view,info : info,primaryKeys : primaryKeys};function model() {var model = {};model._GET = {};return model;};function view() {var view = {};return view;};function info(){var container = {};container.Id = '7153';container.Name = 'dibexLazyLoadHtml';container.SubContainerItemAliases = [];return container;};function primaryKeys() {return [];};};dibexLazyLoadHtml.component('dibexLazyLoadHtml', {controllerAs: 'dibexLazyLoadHtml',templateUrl: DIB.base_url + '/dropins/setNgMaterial/dibHtmlTemplate/Template/view/dibexLazyLoadHtml.html',controller : component__dibexLazyLoadHtml});component__dibexLazyLoadHtml.$inject = [ 'dibexLazyLoadHtmlDefinition','$scope','$element','dibCrud','dibNavigation','dibAction','dibContainer','dibDiscover','dibRecord','dibUtility','dibCommon','$log','$q','$ocLazyLoad','dibexLazyLoadHtmlStore','$sce', '$timeout'];function component__dibexLazyLoadHtml(dibexLazyLoadHtmlDefinition,$scope,$element,dibCrud,dibNavigation,dibAction,dibContainer,dibDiscover,dibRecord,dibUtility,dibCommon,$log,$q,$ocLazyLoad,dibexLazyLoadHtmlStore,$sce, $timeout) {var ctrl = this;var crudController = "/peff/Crud";var $dibContainer = $element.first();$scope.container = dibexLazyLoadHtmlDefinition.info();$scope.model = dibexLazyLoadHtmlDefinition.model();$scope.view = dibexLazyLoadHtmlDefinition.view();$scope.primaryKeys = dibexLazyLoadHtmlDefinition.primaryKeys();$scope.dibCommon = dibCommon;dibContainer.watchModel($scope, function () {});var $dibContainer = $element.first();$scope.menus = {};function filterList($scope,$dibContainer,service, query, dropdown) {return service.list($scope,$dibContainer, query).then(function (items) {dropdown.items = items;return $q.when();});}
$scope.dropdowns = {};$scope.openAuditTrail = function (portAlias) {$log.warn('Audit trail not available for this container, as a table is not linked to this view');};ctrl.$onInit = function () {function setupUrl() {var url = dibexLazyLoadHtmlStore.url($scope,$element);if (!!url.url == false) return;var tmpUri = url.url;if (tmpUri.indexOf("?") !== -1) {tmpUri += "&" + $.param(url.data) + "&v="+new Date().getTime();} else {tmpUri += "?" + $.param(url.data)+ "&v="+new Date().getTime();}
$sce.trustAsResourceUrl(tmpUri);$scope.loading = true;$timeout(function () {$scope.loading = false;},500);$scope.model.url = tmpUri;}
if (!!dibContainer.isSubContainer($("[dib-container=dibexLazyLoadHtml]")) === false) {setupUrl();}
$scope.completed = function () {$scope.loading = false;};$scope.reloadContainer = function (options) {setupUrl();$scope.frameStyle = {"height" : "200px"};};};ctrl.$postLink = function () {$scope.reloadContainer({ force : true });};}})();