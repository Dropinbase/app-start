(function() {var require = ['/dropins/setNgMaterial/dibGlobals/js/component/timeDatePickerInput.js' ];require.push('/dropins/setNgMaterial/dibGlobals/js/component/selectDefault.js');var files = [];angular.forEach(require, function (file,index) {files.push(DIB.base_url+'/files'+file);});var dibtestdibContainer = angular.module('dibtestdibContainer', [files]);dibtestdibContainer.service('service213157',service213157);service213157.$inject = ['dibAjax', 'dibDiscover', '$q'];function service213157(dibAjax, dibDiscover, $q) {return {list : list};function list($scope, $element, query, modelType, page) {var url = dibDiscover.updateQueryStringDropdown(DIB.base_url + "/peff/Crud/componentlist/dibtestdibContainer?containerItemId=213157", query, modelType, page);var requestInfo = dibDiscover.addToUrl({field :$('#ci213157'),$scope : $scope,container : $element,url : url});return dibAjax.post(requestInfo, {excludeFromCancels : true,factoryResult : function (data) {return data.records;}});};};dibtestdibContainer.factory('dibtestdibContainerDefinition',dibtestdibContainerDefinition);dibtestdibContainerDefinition.$inject = ['dibContainer','service213157'];function dibtestdibContainerDefinition(dibContainer,service213157) {return {model : model,view : view,info : info,primaryKeys : primaryKeys};function model() {var model = {};model._GET = {};model['textfield'] = '';model._GET['textfield'] = dibContainer.modelItem({key : 'textfield',dataType : "text",create : true,update : true,service : null,itemAlias : false});model['checkboxfield'] = '';model._GET['checkboxfield'] = dibContainer.modelItem({key : 'checkboxfield',dataType : "boolean",create : true,update : true,service : null,itemAlias : false});model['datefield'] = '';model._GET['datefield'] = dibContainer.modelItem({key : 'datefield',dataType : "date",create : true,update : true,service : null,itemAlias : false});model['select___test_company_id'] = '';model._GET['test_company_id'] = dibContainer.modelItem({key : 'test_company_id',dataType : "select",create : true,update : true,service : service213157,itemAlias : false});return model;};function view() {var view = {};return view;};function info(){var container = {};container.Id = '7163';container.Name = 'dibtestdibContainer';container.SubContainerItemAliases = [];return container;};function primaryKeys() {return [];};};dibtestdibContainer.component('dibtestdibContainer', {controllerAs: 'dibtestdibContainer',templateUrl: DIB.base_url + '/dropins/setNgMaterial/dibContainer/Template/view/dibtestdibContainer.html',controller : component__dibtestdibContainer});component__dibtestdibContainer.$inject = [ 'dibtestdibContainerDefinition','$scope','$element','dibCrud','dibNavigation','dibAction','dibContainer','dibDiscover','dibRecord','dibUtility','dibCommon','$log','$q','$ocLazyLoad','service213157'];function component__dibtestdibContainer(dibtestdibContainerDefinition,$scope,$element,dibCrud,dibNavigation,dibAction,dibContainer,dibDiscover,dibRecord,dibUtility,dibCommon,$log,$q,$ocLazyLoad,service213157) {var ctrl = this;var crudController = "/peff/Crud";var $dibContainer = $element.first();$scope.container = dibtestdibContainerDefinition.info();$scope.model = dibtestdibContainerDefinition.model();$scope.view = dibtestdibContainerDefinition.view();$scope.primaryKeys = dibtestdibContainerDefinition.primaryKeys();$scope.dibCommon = dibCommon;dibContainer.watchModel($scope, function () {});var $dibContainer = $element.first();$scope.menus = {};function filterList($scope,$dibContainer,service, query, dropdown) {return service.list($scope,$dibContainer, query).then(function (items) {dropdown.items = items;return $q.when();});}
$scope.dropdowns = {};$scope.dropdowns.service213157 = {};$scope.dropdowns.service213157.items = [];var cancelService213157 = null;var query213157 = '';$scope.loadService213157 = function (query, skipTimeout) {if (query213157 != query) {query213157 = query;if (!!skipTimeout) {return filterList($scope,$dibContainer,service213157, query, $scope.dropdowns.service213157);} else {if (!!cancelService213157) $timeout.clear(cancelService213157);cancelService213157 = $timeout(function () {return filterList($scope,$dibContainer,service213157, query, $scope.dropdowns.service213157);}, 100);return cancelService213157;}};};$scope.dropdowns.service213157.getItems = function (query,modelType) {return service213157.list($scope,$dibContainer, query,modelType);};$scope.select213157 = function (model,modelName,fieldName) {if (!!modelName == false) modelName ="model";var $element =  $('#ci213157');if (!!$element.attr('select-model') === false) {$element = $element.find('[select-model]');}
var modelName =  'selected___' + fieldName;$element.trigger('select');if (!!model[modelName]  === false) {return  false;}
angular.forEach($scope.dropdowns.service213157.items, function (item, index)   {if (item.id == model[modelName]['id']) {model[modelName]['id_display_value'] = item.id_display_value;return false;}});};$scope.openAuditTrail = function (portAlias) {$log.warn('Audit trail not available for this container, as a table is not linked to this view');};ctrl.$onInit = function () {$scope.recordStatus = "create";$scope.reloadContainer = function () {dibContainer.reloadChildren({containerName: 'dibtestdibContainer'});};};ctrl.$postLink = function () {$scope.reloadContainer({ force : true });};}})();